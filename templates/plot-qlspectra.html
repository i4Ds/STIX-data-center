
{% extends "base-plotting.html" %}
{% set currentPage="Quicklook specific spectra" %}


{% block title %}STIX QL spectrum viewer{% endblock %}
{% block head %}
{% endblock %}
{% block top_navi_title%} 
Calibration data
{% endblock %}
{% block main_title_bar%} 
{% if message is defined %}
{{message}}
{% else %}
Quicklook spectra
{%endif%}

{% endblock %}

{% set button_groups=({"Last day": 24,"Last 2 days": 48,"Last 3 days":72}) %}


{% block  main_container%} 
<button type="button" class="btn btn-success btn-sm" id="btn-spectrum" data-toggle="collapse" data-target="#spectra-list" >
	Show background spectrum packets
</button>
<div class="collapse" id="spectra-list">
	<div class="card card-body" style="height:400px; overflow:scroll">
		<table class="display compact mt-3" id="packet-table">
			<thead>
				<tr>
					<th class="sortable-column sort-desc">ID</th>
					<th>Packet header time</th>
					<th>Start time</th>
					<th>Duration (s)</th>
					<th>TM packets</th>
					<th>Plot</th>
				</tr>
			</thead>
			<tbody >
			</tbody>
		</table>

	</div>
</div>
<div class="d-flex flex-column mt-10">
	<div class="row">
		<div class="col" >
			<table class="table table-sm table-striped table-bordered table-hover" id="spectrum-packets"></table>
		</div>
	</div>
	<div class="row">
		<div class="col">
			<div id="spectra" ></div>
		</div>
	</div>
	<div class="row">
		<div class="col">
			<div id="triggers" ></div>
		</div>
	</div>
	<div class="row">
		<div class="col">
			<div id="integrations" ></div>
		</div>
	</div>

</div>



{% endblock %}


{% block before_js%}
{% if start_unix is not defined%}
{% set start_unix=0 %}
{% endif %}
{% if span_sec is not defined%}
{% set span_sec=0 %}
{% endif %}

{% if packet_id is not defined%}
{% set packet_id=-2 %}
{% endif %}

{% if file_id is not defined%}
{% set file_id=-1 %}
{% endif %}

<script>
window.startUnix={{start_unix}};
window.timeSpanSeconds={{span_sec}};
window.packetID={{packet_id}};
window.fileID={{file_id}};
</script>

{% endblock %}

{% block after_js %}

{% assets "qlspectra_js" %}
	<script type="text/javascript" src="{{ ASSET_URL }}"></script>
{% endassets %}
<script>
	$(function () {
		$('.form_datetime').datetimepicker( {format: "yyyy-mm-ddThh:ii:ss"});
		

	});

</script>
{% endblock %}



